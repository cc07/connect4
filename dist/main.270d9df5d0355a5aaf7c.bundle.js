webpackJsonp([1],{"+h1B":function(t,n,e){"use strict";var o=e("/oeL"),i=e("aR8+"),r=e("wQAS"),l=e("q4dy"),a=e("qbdv"),s=e("fc+i"),u=e("zGcJ");e.d(n,"a",function(){return c});var c=o.b(i.a,[r.a],function(t){return o.c([o.d(512,o.e,o.f,[[8,[l.a]],[3,o.e],o.g]),o.d(5120,o.h,o.i,[[3,o.h]]),o.d(4608,a.a,a.b,[o.h]),o.d(4608,o.j,o.j,[]),o.d(5120,o.k,o.l,[]),o.d(5120,o.m,o.n,[]),o.d(5120,o.o,o.p,[]),o.d(4608,s.b,s.c,[s.d]),o.d(6144,o.q,null,[s.b]),o.d(4608,s.e,s.f,[]),o.d(5120,s.g,function(t,n,e,o){return[new s.h(t),new s.i(n),new s.j(e,o)]},[s.d,s.d,s.d,s.e]),o.d(4608,s.k,s.k,[s.g,o.r]),o.d(135680,s.l,s.l,[s.d]),o.d(4608,s.m,s.m,[s.k,s.l]),o.d(6144,o.s,null,[s.m]),o.d(6144,s.n,null,[s.l]),o.d(4608,o.t,o.t,[o.r]),o.d(4608,s.o,s.o,[s.d]),o.d(4608,s.p,s.p,[s.d]),o.d(4608,u.a,u.a,[]),o.d(512,a.c,a.c,[]),o.d(1024,o.u,s.q,[]),o.d(1024,o.v,function(t,n){return[s.r(t,n)]},[[2,s.s],[2,o.w]]),o.d(512,o.x,o.x,[[2,o.v]]),o.d(131584,o.y,o.y,[o.r,o.z,o.A,o.u,o.e,o.x]),o.d(2048,o.B,null,[o.y]),o.d(512,o.C,o.C,[o.B]),o.d(512,s.t,s.t,[[3,s.t]]),o.d(512,i.a,i.a,[])])})},0:function(t,n,e){t.exports=e("cDNt")},"3oGo":function(t,n,e){"use strict";var o=e("zGcJ");e.d(n,"a",function(){return o.a})},NhKt:function(t,n,e){"use strict";e.d(n,"a",function(){return o});var o=["canvas[_ngcontent-%COMP%]{height:100%;width:100%}.canvasContainer[_ngcontent-%COMP%]{position:absolute;top:100px;left:0;bottom:0;right:0;z-index:1;padding:40px;text-align:center}.canvasContainer.background[_ngcontent-%COMP%]{z-index:0}.headerContainer[_ngcontent-%COMP%]{font-family:monospace;font-size:2em;text-align:center;padding:20px 40px}.messageContainer[_ngcontent-%COMP%]{margin-bottom:5px}.blue[_ngcontent-%COMP%]{color:#06f}.red[_ngcontent-%COMP%]{color:#f44336}button[_ngcontent-%COMP%]{background:#fff;border:1px solid #666;border-radius:3px;color:#666;font-size:.5em;margin-right:5px;padding:7px 20px}"]},"aR8+":function(t,n,e){"use strict";e.d(n,"a",function(){return o});var o=function(){function t(){}return t}()},cDNt:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("/oeL"),i=e("p5Ee"),r=e("+h1B"),l=e("fc+i");i.a.production&&e.i(o.a)(),e.i(l.a)().bootstrapModuleFactory(r.a)},p5Ee:function(t,n,e){"use strict";e.d(n,"a",function(){return o});var o={production:!0}},q4dy:function(t,n,e){"use strict";function o(t){return c._12(0,[(t()(),c._13(0,null,null,1,"div",[],null,null,null,null,null)),(t()(),c._14(null,["",""]))],null,function(t,n){t(n,1,0,n.component.message)})}function i(t){return c._12(0,[(t()(),c._14(null,["Select game mode to start"]))],null,null)}function r(t){return c._12(0,[(t()(),c._13(0,null,null,6,"div",[],null,null,null,null,null)),(t()(),c._14(null,["\n        "])),(t()(),c._13(0,null,null,1,"button",[["type","button"]],null,[[null,"click"]],function(t,n,e){var o=!0,i=t.component;if("click"===n){o=!1!==i.setGameMode(1)&&o}return o},null,null)),(t()(),c._14(null,["1P"])),(t()(),c._13(0,null,null,1,"button",[["type","button"]],null,[[null,"click"]],function(t,n,e){var o=!0,i=t.component;if("click"===n){o=!1!==i.setGameMode(2)&&o}return o},null,null)),(t()(),c._14(null,["2P"])),(t()(),c._14(null,["\n    "]))],null,null)}function l(t){return c._12(0,[(t()(),c._14(null,["\n        "])),(t()(),c._13(0,null,null,1,"button",[["type","button"]],null,[[null,"click"]],function(t,n,e){var o=!0,i=t.component;if("click"===n){o=!1!==i.resetGame()&&o}return o},null,null)),(t()(),c._14(null,["Reset"])),(t()(),c._14(null,["\n    "]))],null,null)}function a(t){return c._12(0,[c._15(402653184,1,{bgCanvas:0}),c._15(402653184,2,{canvas:0}),(t()(),c._13(0,null,null,14,"div",[["class","headerContainer"]],[[2,"blue",null],[2,"red",null]],null,null,null,null)),(t()(),c._14(null,["\n    "])),(t()(),c._13(0,null,null,6,"div",[["class","messageContainer"]],null,null,null,null,null)),(t()(),c._14(null,["\n        "])),(t()(),c._16(16777216,null,null,1,null,o)),c._17(16384,null,0,h.f,[c._2,c._3],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),c._14(null,["    \n        "])),(t()(),c._16(0,[["showStartGameMessage",2]],null,0,null,i)),(t()(),c._14(null,["\n    "])),(t()(),c._14(null,["\n    "])),(t()(),c._16(16777216,null,null,1,null,r)),c._17(16384,null,0,h.f,[c._2,c._3],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),c._14(null,["    \n    "])),(t()(),c._16(0,[["showResetGame",2]],null,0,null,l)),(t()(),c._14(null,["\n"])),(t()(),c._14(null,["\n"])),(t()(),c._13(0,null,null,3,"div",[["class","canvasContainer background"]],null,[["window","resize"]],function(t,n,e){var o=!0,i=t.component;if("window:resize"===n){o=!1!==i.onWindowResize()&&o}return o},null,null)),(t()(),c._14(null,["\n    "])),(t()(),c._13(0,[[1,0],["backgroundCanvas",1]],null,0,"canvas",[["class","background"],["height","100"],["width","100"]],null,null,null,null,null)),(t()(),c._14(null,["\n"])),(t()(),c._14(null,["\n"])),(t()(),c._13(0,null,null,3,"div",[["class","canvasContainer"]],null,null,null,null,null)),(t()(),c._14(null,["\n    "])),(t()(),c._13(0,[[2,0],["canvas",1]],null,0,"canvas",[["height","100"],["width","100"]],null,[[null,"click"],[null,"mousemove"]],function(t,n,e){var o=!0,i=t.component;if("click"===n){o=!1!==i.onClick(e)&&o}if("mousemove"===n){o=!1!==i.onMousemove(e)&&o}return o},null,null)),(t()(),c._14(null,["\n"]))],function(t,n){var e=n.component;t(n,7,0,e.isGameStarted,c._18(n,9)),t(n,13,0,!e.isGameStarted,c._18(n,15))},function(t,n){var e=n.component;t(n,2,0,e.turnPlayer==e.BLUE,e.turnPlayer==e.RED)})}function s(t){return c._12(0,[(t()(),c._13(0,null,null,1,"app-root",[],null,null,null,a,g)),c._17(114688,null,0,f.a,[d.a],null,null)],function(t,n){t(n,1,0)},null)}var u=e("NhKt"),c=e("/oeL"),h=e("qbdv"),f=e("wQAS"),d=e("zGcJ");e.d(n,"a",function(){return m});var p=[u.a],g=c._11({encapsulation:0,styles:p,data:{}}),m=c._19("app-root",f.a,s,{},{},[])},qtrl:function(t,n){function e(t){throw new Error("Cannot find module '"+t+"'.")}e.keys=function(){return[]},e.resolve=e,t.exports=e,e.id="qtrl"},wQAS:function(t,n,e){"use strict";var o=e("3oGo");e.d(n,"a",function(){return l});var i=this&&this.__awaiter||function(t,n,e,o){return new(e||(e=Promise))(function(i,r){function l(t){try{s(o.next(t))}catch(t){r(t)}}function a(t){try{s(o.throw(t))}catch(t){r(t)}}function s(t){t.done?i(t.value):new e(function(n){n(t.value)}).then(l,a)}s((o=o.apply(t,n||[])).next())})},r=this&&this.__generator||function(t,n){function e(t){return function(n){return o([t,n])}}function o(e){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,r&&(l=r[2&e[0]?"return":e[0]?"throw":"next"])&&!(l=l.call(r,e[1])).done)return l;switch(r=0,l&&(e=[0,l.value]),e[0]){case 0:case 1:l=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,r=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(l=s.trys,!(l=l.length>0&&l[l.length-1])&&(6===e[0]||2===e[0])){s=0;continue}if(3===e[0]&&(!l||e[1]>l[0]&&e[1]<l[3])){s.label=e[1];break}if(6===e[0]&&s.label<l[1]){s.label=l[1],l=e;break}if(l&&s.label<l[2]){s.label=l[2],s.ops.push(e);break}l[2]&&s.ops.pop(),s.trys.pop();continue}e=n.call(t,s)}catch(t){e=[6,t],r=0}finally{i=l=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}var i,r,l,a,s={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return a={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},l=function(){function t(t){this.xavierService=t,this.winner=null,this.isDropingInMotion=!1,this.isGameStarted=!1,this.isGameEnded=!1,this.RED=1,this.BLUE=-1,this.HUMAN=!1,this.AI=!0,this.GAME_STATUS={END:0,DRAW:1},this.config={border:"#AAAAAA",blue:"#0066FF",red:"#F44336",top:140,left:40,colCount:7,rowCount:6}}return t.prototype.ngOnInit=function(){this.bgContext=this.bgCanvas.nativeElement.getContext("2d"),this.context=this.canvas.nativeElement.getContext("2d"),this.bgContext.lineWidth=1,this.bgContext.strokeStyle=this.config.border,this.turnPlayer=this.RED,this.computeSize(),this.initGame()},t.prototype.initGame=function(){var t=this;this.drawBoard(),this.board=new Array(this.config.rowCount).fill(0).map(function(){return new Array(t.config.colCount).fill(0)})},t.prototype.onClick=function(t){var n=this.getPointingCol(t);this.isGameStarted&&this.isPointingTheFirstRow(t)&&this.allowToDrop(n)&&this.dropCoin(n)},t.prototype.onMousemove=function(t){if(this.isGameStarted&&!this.isGameEnded){var n=Math.min(this.getPointingCol(t),this.config.colCount-1);this.drawCoin(n)}},t.prototype.computeSize=function(){this.frameSize=Math.min(.8*window.innerWidth,.8*window.innerHeight),this.actualFrameSize=.9*this.frameSize,this.colSize=this.actualFrameSize/7,this.startX=(this.frameSize-this.actualFrameSize)/2,this.framePadding=(window.innerWidth-this.frameSize)/2,this.bgCanvas.nativeElement.height=this.frameSize,this.bgCanvas.nativeElement.width=this.frameSize,this.canvas.nativeElement.height=this.frameSize,this.canvas.nativeElement.width=this.frameSize,this.bgCanvas.nativeElement.style.height=this.frameSize+"px",this.bgCanvas.nativeElement.style.width=this.frameSize+"px",this.canvas.nativeElement.style.height=this.frameSize+"px",this.canvas.nativeElement.style.width=this.frameSize+"px",this.radius=.8*this.colSize/2},t.prototype.onWindowResize=function(){this.computeSize(),this.drawBoard(),this.redraw()},t.prototype.setGameMode=function(t){var n=this;this.gameMode=t,this.isGameStarted=!0,this.turnPlayer=this.winner?-1*this.winner:Math.pow(-1,Math.floor(10*Math.random()+1)),this.setCoinColor(),this.setMessage(),this.gameMode==this.AI&&this.turnPlayer==this.BLUE&&this.xavierService.requestDrop(this).then(function(t){n.dropCoin(t)})},t.prototype.resetGame=function(){this.isGameStarted=!1,this.isGameEnded=!1,this.isDropingInMotion=!1,this.clearBoard(),this.initGame()},t.prototype.setMessage=function(t){switch(t){case this.GAME_STATUS.DRAW:this.message="Draw";break;case this.GAME_STATUS.END:this.message=(this.turnPlayer==this.RED?"Red":"Blue")+" won";break;default:this.message=(this.turnPlayer==this.RED?"Red":"Blue")+"'s turn"}},t.prototype.drawBoard=function(){this.bgContext.clearRect(0,0,this.frameSize,this.frameSize);for(var t=this.colSize,n=0;n<=this.config.rowCount;t+=this.colSize,n++)this.bgContext.beginPath(),this.bgContext.moveTo(this.startX,t),this.bgContext.lineTo(this.actualFrameSize+this.startX,t),this.bgContext.stroke();for(var e=this.startX,n=0;n<=this.config.colCount;e+=this.colSize,n++)this.bgContext.beginPath(),this.bgContext.moveTo(e,this.colSize),this.bgContext.lineTo(e,this.actualFrameSize),this.bgContext.stroke()},t.prototype.clearBoard=function(){this.context.clearRect(0,0,this.frameSize,this.frameSize)},t.prototype.redraw=function(){for(var t=0,n=this.board;t<n.length;t++)for(var e=n[t],o=0,i=e;o<i.length;o++){i[o]}for(var e=0;e<this.config.rowCount;e++)for(var r=0;r<this.config.colCount;r++)0!=this.board[e][r]&&this.drawCoin(r,e,this.getCoinColor(this.board[e][r]))},t.prototype.dropCoin=function(t){var n=this,e=this.getAvailableRow(t),o=Date.now(),i=this.getPosition(0,t),r=i[0],l=i[1],a=this.getPosition(e,t),s=(a[0],a[1]),u=function(){var i=Date.now()-o;n.context.clearRect(r-n.radius-1,l-n.radius-1,2*(n.radius+1),2*(n.radius+1)),l=Math.min(l+i,s),n.context.beginPath(),n.context.arc(r,l,n.radius,0,2*Math.PI,!0),n.context.fill(),l<s?requestAnimationFrame(u):n.postDrop(e,t)};this.isDropingInMotion=!0,requestAnimationFrame(u)},t.prototype.allowToDrop=function(t){return!this.isDropingInMotion&&this.hasAvailableCell(t)&&!this.isGameEnded},t.prototype.postDrop=function(t,n){return i(this,void 0,void 0,function(){var e,o=this;return r(this,function(i){switch(i.label){case 0:return this.setOccupied(t,n),e=this,[4,this.checkEndGame(t,n)];case 1:return e.isGameEnded=i.sent(),this.isGameEnded?(this.winner=this.turnPlayer,[2,this.setMessage(this.GAME_STATUS.END)]):this.hasAvailableMove()?(this.isDropingInMotion=!1,this.turnPlayer=-1*this.turnPlayer,this.setCoinColor(),this.clearDraw(),this.setMessage(),this.gameMode==this.AI&&this.turnPlayer==this.BLUE&&this.xavierService.requestDrop(this).then(function(t){o.dropCoin(t)}),[2]):(this.isGameEnded=!0,[2,this.setMessage(this.GAME_STATUS.DRAW)])}})})},t.prototype.checkEndGame=function(t,n){var e=this;return new Promise(function(o,i){var r=[e.checkSouth(t,n,e.board),e.checkWest(t,n,e.board),e.checkEast(t,n,e.board),e.checkSouthWest(t,n,e.board),e.checkSouthEast(t,n,e.board),e.checkNorthWest(t,n,e.board),e.checkNorthEast(t,n,e.board),e.checkHorizon(t,n,e.board),e.checkLeftSkewed(t,n,e.board),e.checkRightSkewed(t,n,e.board)];return Promise.all(r).then(function(t){for(var n=0,i=t;n<i.length;n++){var r=i[n],l=new Array(4).fill(e.turnPlayer).join(",").replace(new RegExp("-1","g"),"A");r.cells.join(",").replace(new RegExp("-1","g"),"A").includes(l)&&o(!0)}o(!1)})})},t.prototype.checkSouth=function(t,n,e){var o=this;return new Promise(function(i,r){for(var l=[];t<o.config.rowCount;)l.push(e[t][n]),t++;i({direction:"s",cells:l})})},t.prototype.checkEast=function(t,n,e){var o=this;return new Promise(function(i,r){for(var l=[];n<o.config.colCount;)l.push(e[t][n]),n++;i({direction:"e",cells:l})})},t.prototype.checkWest=function(t,n,e){return new Promise(function(o,i){for(var r=[];n>=0;)r.push(e[t][n]),n--;o({direction:"w",cells:r})})},t.prototype.checkSouthEast=function(t,n,e){var o=this;return new Promise(function(i,r){for(var l=[];n<o.config.colCount&&t<o.config.rowCount;)l.push(e[t][n]),n++,t++;i({direction:"se",cells:l})})},t.prototype.checkSouthWest=function(t,n,e){var o=this;return new Promise(function(i,r){for(var l=[];n>=0&&t<o.config.rowCount;)l.push(e[t][n]),n--,t++;i({direction:"sw",cells:l})})},t.prototype.checkNorthWest=function(t,n,e){return new Promise(function(o,i){for(var r=[];n>=0&&t>=0;)r.push(e[t][n]),n--,t--;o({direction:"nw",cells:r})})},t.prototype.checkNorthEast=function(t,n,e){var o=this;return new Promise(function(i,r){for(var l=[];n<o.config.colCount&&t>=0;)l.push(e[t][n]),n++,t--;i({direction:"ne",cells:l})})},t.prototype.checkHorizon=function(t,n,e){var o=this;return new Promise(function(i,r){for(var l=[],a=[],s=+n+1;n>=0;)l.push(e[t][n]),n--;for(;s<o.config.colCount;)a.push(e[t][s]),s++;i({direction:"hr",cells:l.reverse().concat(a)})})},t.prototype.checkLeftSkewed=function(t,n,e){var o=this;return new Promise(function(i,r){for(var l=[],a=[],s=+n-1,u=+t+1;n<o.config.colCount&&t>=0;)l.push(e[t][n]),n++,t--;for(;s>=0&&u<o.config.rowCount;)a.push(e[u][s]),s--,u++;i({direction:"ls",cells:l.reverse().concat(a)})})},t.prototype.checkRightSkewed=function(t,n,e){var o=this;return new Promise(function(i,r){for(var l=[],a=[],s=+n+1,u=+t+1;n>=0&&t>=0;)l.push(e[t][n]),n--,t--;for(;s<o.config.colCount&&u<o.config.rowCount;)a.push(e[u][s]),s++,u++;i({direction:"rs",cells:l.reverse().concat(a)})})},t.prototype.getPosition=function(t,n){var e=this.colSize/2;return[this.startX+this.colSize*(1+n)-e,this.colSize+this.colSize*(1+t)-e]},t.prototype.isPointingTheFirstRow=function(t){return t.y<this.config.top+this.colSize},t.prototype.getPointingCol=function(t){return Math.floor((t.x-this.startX-this.framePadding)/this.colSize)},t.prototype.getAvailableRow=function(t){for(var n=this.config.rowCount-1;n>=0;n--)if(0==this.board[n][t])return n;return-1},t.prototype.hasAvailableCell=function(t){var n=this.getAvailableRow(t);return n>=0&&n<this.config.rowCount},t.prototype.hasAvailableMove=function(){for(var t=0;t<this.config.colCount;t++)if(this.hasAvailableCell(t))return!0;return!1},t.prototype.drawCoin=function(t,n,e){if(!(t<0||n<0||t>this.config.colCount||n>this.config.rowCount)){this.clearDraw();var o=this.getPosition(n||-1,t),i=o[0],r=o[1];this.setCoinColor(e),this.context.beginPath(),this.context.arc(i,r,this.radius,0,2*Math.PI,!0),this.context.fill()}},t.prototype.clearDraw=function(){this.context.clearRect(0,0,this.frameSize,this.colSize)},t.prototype.getCoinColor=function(t){return t==this.RED?this.config.red:this.config.blue},t.prototype.setCoinColor=function(t){this.context.fillStyle=t||this.getCoinColor(this.turnPlayer)},t.prototype.setOccupied=function(t,n){this.board[t][n]=this.turnPlayer},t.prototype.isOccupied=function(t,n){return 0!=this.board[t][n]},t.prototype.printBoard=function(){for(var t="",n=0;n<this.config.rowCount;n++){for(var e=0;e<this.config.colCount;e++)t+=this.board[n][e]+",";t+="\n"}console.log(t)},t.ctorParameters=function(){return[{type:o.a}]},t}()},zGcJ:function(t,n,e){"use strict";e.d(n,"a",function(){return r});var o=this&&this.__awaiter||function(t,n,e,o){return new(e||(e=Promise))(function(i,r){function l(t){try{s(o.next(t))}catch(t){r(t)}}function a(t){try{s(o.throw(t))}catch(t){r(t)}}function s(t){t.done?i(t.value):new e(function(n){n(t.value)}).then(l,a)}s((o=o.apply(t,n||[])).next())})},i=this&&this.__generator||function(t,n){function e(t){return function(n){return o([t,n])}}function o(e){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,r&&(l=r[2&e[0]?"return":e[0]?"throw":"next"])&&!(l=l.call(r,e[1])).done)return l;switch(r=0,l&&(e=[0,l.value]),e[0]){case 0:case 1:l=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,r=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(l=s.trys,!(l=l.length>0&&l[l.length-1])&&(6===e[0]||2===e[0])){s=0;continue}if(3===e[0]&&(!l||e[1]>l[0]&&e[1]<l[3])){s.label=e[1];break}if(6===e[0]&&s.label<l[1]){s.label=l[1],l=e;break}if(l&&s.label<l[2]){s.label=l[2],s.ops.push(e);break}l[2]&&s.ops.pop(),s.trys.pop();continue}e=n.call(t,s)}catch(t){e=[6,t],r=0}finally{i=l=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}var i,r,l,a,s={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return a={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},r=function(){function t(){}return t.prototype.requestDrop=function(t){return o(this,void 0,void 0,function(){var n,e;return i(this,function(o){switch(o.label){case 0:return this.game=t,this.isFirstRound()?(n={row:5,col:3},[3,3]):[3,1];case 1:return e=this.computePossibleMove(),[4,this.computeMinMaxValue(e)];case 2:n=o.sent(),o.label=3;case 3:return this.printCellValues(),[2,parseInt(n.col)]}})})},t.prototype.isFirstRound=function(){for(var t=0;t<this.game.config.colCount;t++)if(this.game.isOccupied(this.game.config.rowCount-1,t))return!1;return!0},t.prototype.computePossibleMove=function(){for(var t=[],n=0;n<this.game.config.colCount;n++){var e=this.game.getAvailableRow(n);this.game.hasAvailableCell(n)&&t.push({row:String(e),col:String(n)})}return t},t.prototype.computeMinMaxValue=function(t){return o(this,void 0,void 0,function(){var n,e,o,r,l,a,s,u,c;return i(this,function(i){switch(i.label){case 0:for(n=[],e=null,o=0,r=t;o<r.length;o++)l=r[o],n.push(this.computeCellValue(l.row,l.col));a=0,s=n,i.label=1;case 1:return a<s.length?(u=s[a],[4,u]):[3,4];case 2:c=i.sent(),(!e||c.value>e.value)&&(e=c),i.label=3;case 3:return a++,[3,1];case 4:return[2,new Promise(function(t,n){t(e)})]}})})},t.prototype.computeCellValue=function(t,n){var e=this;return new Promise(function(o,i){var r=[e.game.checkSouth(t,n,e.game.board),e.game.checkWest(t,n,e.game.board),e.game.checkEast(t,n,e.game.board),e.game.checkSouthWest(t,n,e.game.board),e.game.checkSouthEast(t,n,e.game.board),e.game.checkNorthWest(t,n,e.game.board),e.game.checkNorthEast(t,n,e.game.board),e.game.checkLeftSkewed(t,n,e.game.board),e.game.checkRightSkewed(t,n,e.game.board),e.game.checkHorizon(t,n,e.game.board)];return Promise.all(r).then(function(i){for(var r=0,l=-1*e.game.turnPlayer,a=0,s=i;a<s.length;a++){for(var u=s[a],c=2,h=1;h<u.cells.length;h++)if(u.cells[h]==l)r+=2*c,c*=r;else{if(u.cells[h]!=l)break;r++}c=1.5;for(var h=1;h<u.cells.length;h++)if(u.cells[h]==e.game.turnPlayer)r+=1*c,c*=r;else{if(u.cells[h]==l)break;r++}}o({row:t,col:n,value:r})})})},t.prototype.printCellValues=function(){return o(this,void 0,void 0,function(){var t,n,e,o;return i(this,function(i){switch(i.label){case 0:this.game.printBoard(),t="",n=0,i.label=1;case 1:if(!(n<this.game.board.length))return[3,8];e=0,i.label=2;case 2:return e<this.game.board[n].length?this.game.isOccupied(n,e)||this.game.getAvailableRow(e)!=n?[3,4]:[4,this.computeCellValue(n,e)]:[3,6];case 3:return o=i.sent(),t+=o.value+",",[3,5];case 4:t+="0,",i.label=5;case 5:return e++,[3,2];case 6:t+="\n",i.label=7;case 7:return n++,[3,1];case 8:return console.log(t),[2]}})})},t.ctorParameters=function(){return[]},t}()}},[0]);